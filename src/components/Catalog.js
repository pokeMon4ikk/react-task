import React from 'react';
import '../index.css'

const WareItem = ({ware, login})=> {

    ware.isChecked = false

    const date = new Date()

    const handlerCheck = () => {
        if (ware.isChecked === false){
            ware.isChecked = true
            ware.date = date.toLocaleString()
            ware.login = login
        }else{
            ware.isChecked = false
        }
    }

    return (
        <tr className="tab-content">
            <td>
                <input type="checkbox" id="checkbox" onChange={handlerCheck}></input>
                {ware.name}
            </td>
            <td>
                {ware.description}
            </td>
            <td className="td_center">
                {ware.code}
            </td>
            <td className="td_center">
                {ware.price}
            </td>
            <td className="td_center">
                {ware.quantity}
            </td>
        </tr>
    )
}

const WareList = ({wares, SortedPriceData, CancelSortAndFilters, FilterName, SortedPriceDataUp, SortedPriceDataDn, formOrder, login}) => {

    const order = JSON.parse(JSON.stringify(wares, null, 2))

    return (
        <div>
            <button className="btn" onClick={() =>  FilterName(order)}>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏–º–µ–Ω–∏</button>
            <button className="btn" onClick={() => SortedPriceData(order)}>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ü–µ–Ω–µ</button>
            <button className="btn" onClick={() => SortedPriceDataUp(order)}>ü†ï</button>
            <button className="btn" onClick={() => SortedPriceDataDn(order)}>ü†ó</button>
            <button className="btn" onClick={() => CancelSortAndFilters()}>‚úñ</button>
            <table className="table">
                <th>
                    –ù–∞–∑–≤–∞–Ω–∏–µ
                </th>
                <th>
                    –û–ø–∏—Å–∞–Ω–∏–µ
                </th>
                <th>
                    –ö–æ–¥
                </th>
                <th>
                    –¶–µ–Ω–∞
                </th>
                <th>
                    –î–æ—Å—Ç—É–ø–Ω–æ –≤ –ø—Ä–æ–¥–∞–∂–µ
                </th>
                {order.map((ware) => <WareItem ware={ware} login={login}/>)}
            </table>
            <button className="btn" onClick={() => formOrder(order)}>–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–∞–∑</button>
        </div>
    )
}

export default WareList
